{% extends 'layouts/auth_base.html' %}
{% load i18n %}
{% load account %}
{% load class_filters %}

{% block title %}{% trans "Change Password" %}{% endblock %}

{% block content %}
<div class="login-box">
  <div class="login-logo">
    <a href="/"><b>Trauck</b></a>
  </div>
  <div class="card">
    <div class="card-body login-card-body">
      <h4 class="text-center mb-3">{% trans "Change Password" %}</h4>

      {% if form.errors %}
        <div class="alert alert-danger">
          <ul class="mb-0">
            {% for field in form %}
              {% for err in field.errors %}
                <li>{{ err }}</li>
              {% endfor %}
            {% endfor %}
            {% for err in form.non_field_errors %}
              <li>{{ err }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <form method="post">{% csrf_token %}
        {% for field in form %}
          <div class="form-group">
            <label>{{ field.label }}</label>
            {{ field|add_class:'form-control' }}
            {% if field.help_text %}<small class="form-text text-muted">{{ field.help_text }}</small>{% endif %}
          </div>
        {% endfor %}

        <div class="row">
          <div class="col-6">
            <button type="submit" class="btn btn-primary btn-block">{% trans 'Change Password' %}</button>
          </div>
          <div class="col-6">
            <a href="{% url 'account_login' %}" class="btn btn-secondary btn-block">{% trans 'Cancel' %}</a>
          </div>
        </div>
      </form>

    </div>
  </div>
</div>
{% endblock %}
